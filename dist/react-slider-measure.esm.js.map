{"version":3,"file":"react-slider-measure.esm.js","sources":["../src/lib/constants.ts","../src/Measure.tsx","../src/Slider.tsx"],"sourcesContent":["// tslint:disable:object-literal-sort-keys\nexport const colors = {\n  bar: \"#343454\",\n  tick: \"#EDEEF2\",\n  grey: \"#EDEEF2\",\n  active: \"#5A2CC9\",\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { colors } from \"./lib/constants\";\n\nconst tickStyles = `\n  background-color: ${colors.tick};\n  border-radius: 99px;\n  bottom: 0;\n  content: \"\";\n  height: 15px;\n  position: absolute;\n  width: 2px;\n  z-index: 1;\n`;\n\nconst Tick = styled.div`\n  background-color: ${colors.tick};\n  border-radius: 99px;\n  bottom: -40px;\n  height: 30px;\n  left: 50%;\n  position: absolute;\n  transform: translateX(-50%);\n  width: 2px;\n\n  &::after {\n    ${tickStyles}\n    right: -10px;\n  }\n\n  &::before {\n    ${tickStyles}\n    right: -20px;\n  }\n`;\n\nconst Container = styled.div`\n  display: flex;\n  position: relative;\n`;\n\nconst Item = styled.div`\n  color: ${colors.grey};\n  font-size: 18px;\n  margin: 0 5px;\n  position: relative;\n  text-align: center;\n  user-select: none;\n  width: 20px;\n  line-height: 1;\n  margin-top: 5px;\n\n  &:last-child {\n    ${Tick} {\n      &::before,\n      &::after {\n        display: none;\n      }\n    }\n  }\n`;\n\ninterface IMeasureProps {\n  steps: number;\n  value: number;\n  onClick: (index: number) => void;\n  activeColor?: string;\n}\n\nexport const Measure = React.forwardRef<HTMLDivElement, IMeasureProps>(\n  ({ steps, value, onClick, activeColor }: IMeasureProps, ref) => {\n    return (\n      <Container ref={ref}>\n        {Array(steps)\n          .fill(0)\n          .map((number, i) => (\n            <Item key={i}>\n              <div\n                onClick={() => onClick(i + 1)}\n                style={{\n                  cursor: \"pointer\",\n                  transition: \"all .2s\",\n                  color:\n                    value === i + 1\n                      ? activeColor || colors.active\n                      : colors.grey,\n                  transform:\n                    value === i + 1\n                      ? \"scale(1.3) translateY(-3px)\"\n                      : \"scale(1)\",\n                }}\n              >\n                {i + 1}\n              </div>\n              <Tick />\n            </Item>\n          ))}\n      </Container>\n    );\n  }\n);\n","import useComponentSize from \"@rehooks/component-size\";\nimport React, { useEffect, useRef } from \"react\";\nimport { animated, useSpring } from \"react-spring\";\nimport { useDrag } from \"react-use-gesture\";\nimport styled from \"styled-components\";\nimport { Measure } from \"./Measure\";\nimport { colors } from \"./lib/constants\";\n\nconst SliderContainer = styled.div`\n  display: flex;\n  height: 63px;\n  overflow: hidden;\n  position: relative;\n\n  &::after {\n    background: transparent;\n    bottom: 0;\n    content: \"\";\n    cursor: ew-resize;\n    height: 30px;\n    left: 0;\n    position: absolute;\n    right: 0;\n    z-index: 100;\n  }\n`;\n\nconst Bar = styled.div<{ activeColor: string }>`\n  background: ${p => (p.activeColor ? p.activeColor : colors.active)};\n  border-radius: 99px;\n  bottom: 0;\n  height: 30px;\n  left: 50%;\n  position: absolute;\n  width: 2px;\n  z-index: 99;\n`;\n\nconst interpolateTransform: any = (x: number, y: number) =>\n  `translate3D(${x}px, ${y}px, 0)`;\n\nexport const Slider = ({\n  steps,\n  value = 1,\n  onChange,\n  activeColor,\n}: {\n  steps?: number;\n  value?: number;\n  onChange: (newValue: number) => void;\n  activeColor?: string;\n}) => {\n  const ref = useRef<HTMLDivElement>();\n  const width = useComponentSize(ref).width;\n  const stepWidth = width / steps;\n  const [{ xy }, set] = useSpring(() => ({\n    xy: [0, 0],\n  }));\n  const bind = useDrag(({ down, delta, memo = xy.getValue() }) => {\n    let x = delta[0] + memo[0];\n\n    if (!down) {\n      x = Math.min(0, Math.max(-1 * width, x));\n      const newValue = Math.max(Math.round(x / stepWidth), (steps - 1) * -1);\n      x = newValue * stepWidth;\n      onChange(newValue * -1 + 1);\n    }\n\n    set({ xy: [x, 0] });\n\n    return memo;\n  });\n\n  useEffect(() => {\n    if (width) {\n      set({ xy: [(value - 1) * stepWidth * -1, 0] });\n    }\n  }, [width, value, set, stepWidth]);\n\n  return (\n    <SliderContainer {...bind()}>\n      <animated.div\n        style={{\n          position: \"absolute\",\n          top: 0,\n          left: \"50%\",\n          zIndex: 99,\n          bottom: 0,\n          marginLeft: -14,\n          transform: xy.interpolate(interpolateTransform),\n          marginTop: \"auto\",\n        }}\n      >\n        <Measure\n          activeColor={activeColor}\n          value={value}\n          steps={steps}\n          onClick={onChange}\n          ref={ref}\n        />\n      </animated.div>\n      <Bar activeColor={activeColor} />\n    </SliderContainer>\n  );\n};\n"],"names":["colors","bar","tick","grey","active","tickStyles","Tick","styled","div","Container","Item","Measure","React","forwardRef","ref","steps","value","onClick","activeColor","Array","fill","map","number","i","key","style","cursor","transition","color","transform","SliderContainer","_templateObject","Bar","_templateObject2","p","interpolateTransform","x","y","Slider","onChange","useRef","width","useComponentSize","stepWidth","useSpring","xy","set","bind","useDrag","down","delta","memo","getValue","Math","min","max","newValue","round","useEffect","animated","position","top","left","zIndex","bottom","marginLeft","interpolate","marginTop"],"mappings":"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"}